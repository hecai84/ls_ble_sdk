Import('env')
src = [
    'src/lsqspi.c',
    'src/spi_flash.c',
    'src/uart.c',
    'src/lscache.c',
    'src/lspdm.c',
    'src/lspdm_dma.c',
    'src/lsiwdg.c',
    'src/lsadc.c',
    'src/lsadc_ex.c',
    'src/lsi2c.c',
]

if env['IC'] == 'le501x':
    src += [
    'trng/lstrng.c',
    'ecc/lsecc.c',
    'crypt/lscrypt.c',
    'timer/lstimer.c',
    'rtc/rtc.c',
    'spi/lsspi.c',
    'spi/lsi2s.c',
]

if env['IC'] != 'taurus':
    src += ['src/calc_div.c',
            'src/uart_dma.c',
            'src/adc_dma.c',
            'src/dmac.c',
    ]

inc = [
    'trng',
    'ecc',
    'crypt',
    'timer',
    'rtc',
    'spi',
    'api',
    'inc',
]
src_files = File(src)
inc_dirs = Dir(inc)

Return("src_files","inc_dirs")