
BOOT ROM
===========

UART MODE
-----------

PB15上拉后，芯片启动进入UART模式。

.. note ::

    UART模式中，多字节数据以小端方式传输。

进入UART模式后，首先，同步波特率。向芯片发送0x55，芯片接收该字节实现波特率同步后，会回复0xaa，之后芯片循环解析命令，执行并响应。

所支持的命令：

+-------------------------+------------------------------------+
| 命令（1字节）           | 参数                               |
+=========================+====================================+
| MEM32_WRITE（0x10）     | 地址（4字节），数据（4字节）       |
+-------------------------+------------------------------------+
| MEM32_READ（0x11）      | 地址（4字节）                      |
+-------------------------+------------------------------------+
| MEM_BULK_WRITE（0x12）  | 地址（4字节），长度（4字节），数据 |
+-------------------------+------------------------------------+
| MEM_BULK_READ（0x13）   | 地址（4字节），长度（4字节）       |
+-------------------------+------------------------------------+
| PROGRAM_GO（0x14）      | 函数指针（4字节），参数（4字节）   |
+-------------------------+------------------------------------+
| FLASH_CHIP_ERASE（0xff）| CHIP_ERASE_OPCODE（0x60）          |
+-------------------------+------------------------------------+



每条命令执行后，芯片都会响应，响应数据格式如下：

+--------------+--------------+-----------+
| 命令（1字节）| 状态（1字节）| 附加数据  |
+--------------+--------------+-----------+


对于不识别的指令，会回复：

+--------------+--------------+
| 命令（0x00） | 状态（0x00） |
+--------------+--------------+
